{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","formSubmit","useState","search","setSearch","className","s","SearchForm","onSubmit","e","preventDefault","trim","toast","warn","position","autoClose","hideProgressBar","closeOnClick","type","SearchFormButton","SearchFormButtonLabel","onChange","currentTarget","value","toLowerCase","SearchFormInput","name","placeholder","ImageGalleryItem","webformatURL","largeImageURL","clickOnImageItem","onClick","src","url","alt","ImageGalleryItemImage","Loaded","style","textAlign","marginTop","color","height","width","modalRoot","document","querySelector","Modal","onCloseModal","children","useEffect","window","addEventListener","handleKeydown","removeEventListener","code","createPortal","backdrop","target","modal","Button","btnLoad","container","button","ImageGallery","searchQuery","setSearchQuery","error","setError","status","setStatus","page","setPage","showModal","setShowModal","imageModal","setImageModal","apiFetch","fetch","then","response","ok","json","Promise","reject","Error","data","hits","catch","res","state","openModal","map","el","id","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8c659ad3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2OcZ2\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__e_uAl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1Ssb8\",\"modal\":\"Modal_modal__11r6V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Button_container__3TxAk\",\"button\":\"Button_button__3mdej\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3elR7\"};","import { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default function Searchbar({ formSubmit }) {\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const handleChangeSearch = (e) => {\r\n    setSearch(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (search.trim() === \"\") {\r\n      toast.warn(\"Enter please search parameters !\", {\r\n        position: \"top-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n      });\r\n      return;\r\n    }\r\n    formSubmit(search);\r\n    setSearch(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={handleChangeSearch}\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          name=\"search\"\r\n          value={search}\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  formSubmit: PropTypes.func,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  largeImageURL,\r\n  clickOnImageItem,\r\n}) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <div onClick={() => clickOnImageItem(largeImageURL)}>\r\n        <img\r\n          src={webformatURL}\r\n          url={largeImageURL}\r\n          alt=\"\"\r\n          className={s.ImageGalleryItemImage}\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  clickOnImageItem: PropTypes.func,\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function Loaded() {\r\n  return (\r\n    <Loader\r\n      style={{ textAlign: \"center\", marginTop: \"100px\" }}\r\n      type=\"Bars\"\r\n      color=\"#6464fa\"\r\n      height={100}\r\n      width={100}\r\n    />\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function Modal({ onCloseModal, children }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeydown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeydown);\r\n    };\r\n  }, []);\r\n\r\n  const handleKeydown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onCloseModal();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onCloseModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.backdrop} onClick={handleBackdropClick}>\r\n      <div className={s.modal}>{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onCloseModal: PropTypes.func,\r\n};\r\n","import s from \"./Button.module.css\";\r\n\r\nexport default function Button({ btnLoad }) {\r\n  return (\r\n    <div className={s.container}>\r\n      <button type=\"button\" className={s.button} onClick={btnLoad}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport Loaded from \"../Loader\";\r\nimport Modal from \"../Modal\";\r\nimport Button from \"../Button\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({ search }) {\r\n  const [searchQuery, setSearchQuery] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(\"idle\");\r\n  const [page, setPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [imageModal, setImageModal] = useState(\"\");\r\n\r\n  const apiFetch = (search, page) => {\r\n    return fetch(\r\n      `https://pixabay.com/api/?key=8315600-a916a243d8ea2edafddc43bfd&q=${search}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (search === \"\") {\r\n      return;\r\n    }\r\n\r\n    setStatus(\"pending\");\r\n    setPage(1);\r\n\r\n    apiFetch(search, 1)\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        return Promise.reject(\r\n          new Error(`По запросу ${search}ничего не найдено`)\r\n        );\r\n      })\r\n      .then((data) => {\r\n        setSearchQuery(data.hits);\r\n        setStatus(\"resolved\");\r\n      })\r\n      .catch((error) => {\r\n        setError(error);\r\n        setStatus(\"rejected\");\r\n      });\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    if (page !== 1) {\r\n      setStatus(\"pending\");\r\n\r\n      apiFetch(search, page)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setSearchQuery((state) => [...state, ...data.hits]);\r\n          setStatus(\"resolved\");\r\n        });\r\n    }\r\n  }, [page]);\r\n\r\n  const handleChangePage = () => {\r\n    setPage((page) => page + 1);\r\n  };\r\n\r\n  const openModal = (largeImageURL) => {\r\n    setShowModal(true);\r\n    setImageModal(largeImageURL);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {status === \"idle\" && (\r\n        <h2 style={{ textAlign: \"center\" }}>Введите параметы поиска </h2>\r\n      )}\r\n      {status === \"pending\" && <Loaded />}\r\n      {status === \"rejected\" && <h2>{error}</h2>}\r\n      {status === \"resolved\" && (\r\n        <>\r\n          <ul className={s.ImageGallery}>\r\n            {searchQuery.map((el) => (\r\n              <ImageGalleryItem\r\n                key={el.id}\r\n                webformatURL={el.webformatURL}\r\n                largeImageURL={el.largeImageURL}\r\n                clickOnImageItem={openModal}\r\n              />\r\n            ))}\r\n          </ul>\r\n          <Button btnLoad={() => handleChangePage()} />\r\n          {showModal && (\r\n            <Modal onCloseModal={closeModal}>\r\n              {<img src={imageModal} alt=\"\" />}\r\n            </Modal>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport \"./App.css\";\n\nexport default function App() {\n  const [search, setSearch] = useState(\"\");\n\n  const handleFormSubmit = (search) => {\n    setSearch(search);\n  };\n\n  return (\n    <div>\n      <Searchbar formSubmit={handleFormSubmit} />\n\n      <ImageGallery search={search} />\n\n      <ToastContainer />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3w2uu\",\"SearchForm\":\"Searchbar_SearchForm__3h2wz\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1lCbA\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Z1s2\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1oXmt\"};"],"sourceRoot":""}